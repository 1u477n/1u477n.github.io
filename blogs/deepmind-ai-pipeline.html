<!doctype html>
<html lang="en">
<head>
  <!-- SEO / Social -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Google DeepMind‚Äôs ecosystem of AI models creates an end-to-end pipeline from molecular interactions to clinical decision support‚Äîaccelerating the shift from trial-and-error to predictive, simulation-based medicine." />

  <!-- TODO: Update canonical + og:url to your final URL -->
  <link rel="canonical" href="https://1u477n.github.io/blogs/deepmind-ai-pipeline.html" />

  <meta property="og:type" content="article">
  <meta property="og:url" content="https://1u477n.github.io/blogs/deepmind-ai-pipeline.html">
  <meta property="og:title" content="From Molecules to Medicine: DeepMind‚Äôs AI Pipeline">
  <meta property="og:description" content="A modern, end-to-end view of DeepMind‚Äôs biological-to-clinical AI stack: AlphaFold 3, AlphaGenome, AlphaMissense, C2S-Scale, and Med-Gemini.">
  <!-- TODO: Replace with your hosted image URL -->
  <meta property="og:image" content="https://1u477n.github.io/images/deepmind_models.jpg">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="From Molecules to Medicine: DeepMind‚Äôs AI Pipeline">
  <meta name="twitter:description" content="DeepMind‚Äôs AI models connect molecular biology to clinical care‚Äîturning preclinical R&D into a faster, more predictive engineering loop.">
  <!-- TODO: Replace with your hosted image URL -->
  <meta name="twitter:image" content="https://1u477n.github.io/images/deepmind_models.jpg">

  <!-- Support both light & dark based on device setting -->
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#070A12" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <title>From Molecules to Medicine: DeepMind‚Äôs AI Pipeline</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Hint browser this figure is important -->
  <!-- Place https://1u477n.github.io/images/deepmind_models.jpg in the SAME FOLDER as this HTML file, or replace with your hosted URL -->
  <link rel="preload" as="image" href="https://1u477n.github.io/images/deepmind_models.jpg" />

  <style>
    :root{
      /* Base (dark) tokens */
      --bg0:#070A12;
      --bg1:#0B1020;

      --text:#EAF0FF;
      --muted: rgba(234,240,255,.72);
      --muted2: rgba(234,240,255,.55);

      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.10);
      --stroke2: rgba(255,255,255,.16);

      --a1:#38BDF8; /* sky */
      --a2:#A78BFA; /* violet */
      --a3:#34D399; /* emerald */
      --grad: linear-gradient(135deg, var(--a1), var(--a2));

      --shadow: 0 0 0 1px var(--stroke), 0 18px 60px rgba(0,0,0,.55);
      --shadow2: 0 0 0 1px var(--stroke), 0 22px 80px rgba(0,0,0,.62);

      --ring: 0 0 0 2px rgba(56,189,248,.55);

      --r12: 12px;
      --r16: 16px;
      --r20: 20px;
      --r24: 24px;

      --max: 1100px;

      /* Background accents */
      --glow1: rgba(56,189,248,.18);
      --glow2: rgba(167,139,250,.16);
      --glow3: rgba(52,211,153,.10);

      --gridline: rgba(255,255,255,.06);
      --gridmask: rgba(0,0,0,.85);
      --vignette: rgba(255,255,255,.06);

      --topbarA: rgba(7,10,18,.88);
      --topbarB: rgba(7,10,18,.55);

      --menuBg: rgba(8,12,22,.78);
      --menuShadow: 0 30px 80px rgba(0,0,0,.55);
    }

    /* LIGHT MODE (device setting) */
    @media (prefers-color-scheme: light){
      :root{
        --bg0:#ffffff;
        --bg1:#f6f8ff;

        --text:#0b0f1a;
        --muted: rgba(11,15,26,.74);
        --muted2: rgba(11,15,26,.58);

        --panel: rgba(255,255,255,.72);
        --panel2: rgba(255,255,255,.86);
        --stroke: rgba(0,0,0,.10);
        --stroke2: rgba(0,0,0,.14);

        --shadow: 0 0 0 1px rgba(0,0,0,.08), 0 18px 60px rgba(0,0,0,.10);
        --shadow2: 0 0 0 1px rgba(0,0,0,.08), 0 22px 80px rgba(0,0,0,.12);

        --ring: 0 0 0 2px rgba(56,189,248,.45);

        --glow1: rgba(56,189,248,.14);
        --glow2: rgba(167,139,250,.12);
        --glow3: rgba(52,211,153,.08);

        --gridline: rgba(0,0,0,.06);
        --gridmask: rgba(0,0,0,.55);
        --vignette: rgba(0,0,0,.06);

        --topbarA: rgba(255,255,255,.88);
        --topbarB: rgba(255,255,255,.65);

        --menuBg: rgba(255,255,255,.86);
        --menuShadow: 0 30px 80px rgba(0,0,0,.14);
      }
    }

    /* Manual theme override (wins over prefers-color-scheme) */
    html[data-theme="light"]{
      color-scheme: light;

      --bg0:#ffffff;
      --bg1:#f6f8ff;

      --text:#0b0f1a;
      --muted: rgba(11,15,26,.74);
      --muted2: rgba(11,15,26,.58);

      --panel: rgba(255,255,255,.72);
      --panel2: rgba(255,255,255,.86);
      --stroke: rgba(0,0,0,.10);
      --stroke2: rgba(0,0,0,.14);

      --shadow: 0 0 0 1px rgba(0,0,0,.08), 0 18px 60px rgba(0,0,0,.10);
      --shadow2: 0 0 0 1px rgba(0,0,0,.08), 0 22px 80px rgba(0,0,0,.12);

      --ring: 0 0 0 2px rgba(56,189,248,.45);

      --glow1: rgba(56,189,248,.14);
      --glow2: rgba(167,139,250,.12);
      --glow3: rgba(52,211,153,.08);

      --gridline: rgba(0,0,0,.06);
      --gridmask: rgba(0,0,0,.55);
      --vignette: rgba(0,0,0,.06);

      --topbarA: rgba(255,255,255,.88);
      --topbarB: rgba(255,255,255,.65);

      --menuBg: rgba(255,255,255,.86);
      --menuShadow: 0 30px 80px rgba(0,0,0,.14);
    }

    html[data-theme="dark"]{
      color-scheme: dark;
      /* (dark tokens already in :root) */
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    html{
      scroll-behavior: smooth;
      text-rendering: geometricPrecision;
      -webkit-text-size-adjust: 100%;
    }
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 10% 0%, var(--glow1), transparent 55%),
        radial-gradient(1000px 600px at 90% 10%, var(--glow2), transparent 55%),
        radial-gradient(900px 600px at 50% 110%, var(--glow3), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
      padding-bottom: 40px;
    }

    ::selection{ background: rgba(56,189,248,.22); color: var(--text); }

    /* Skip link */
    .skip-link{
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 9999;
      padding: 10px 12px;
      border-radius: 12px;
      background: var(--panel2);
      border: 1px solid var(--stroke);
      color: var(--text);
      text-decoration: none;
      transform: translateY(-200%);
      transition: transform .2s ease;
      backdrop-filter: blur(10px);
    }
    .skip-link:focus{ transform: translateY(0); box-shadow: var(--ring); }

    /* Background grid + vignette */
    .bg-grid{
      position: fixed;
      inset: 0;
      pointer-events:none;
      opacity:.25;
      background-image:
        linear-gradient(var(--gridline) 1px, transparent 1px),
        linear-gradient(90deg, var(--gridline) 1px, transparent 1px);
      background-size: 54px 54px;
      mask-image: radial-gradient(700px 400px at 50% 12%, var(--gridmask), transparent 70%);
      z-index: 0;
    }
    .top-vignette{
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 220px;
      pointer-events:none;
      background: radial-gradient(800px 180px at 50% 0%, var(--vignette), transparent 70%);
      opacity: .8;
      z-index: 1;
    }

    .container{ max-width:var(--max); margin:0 auto; padding: 18px; position: relative; z-index: 2; }

    /* Panel border effect */
    .panel{ position: relative; overflow: hidden; }
    .panel:after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(135deg,
        rgba(56,189,248,.34),
        rgba(167,139,250,.28),
        rgba(52,211,153,.18),
        rgba(255,255,255,.06)
      );
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: .55;
    }

    /* Top nav (sticky) */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 80;
      padding: 10px 0;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, var(--topbarA), var(--topbarB));
      border-bottom: 1px solid rgba(255,255,255,.02);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      max-width: var(--max);
      margin: 0 auto;
      padding: 0 18px;
    }

    /* Progress bar */
    .progress {
      height: 3px;
      width: 100%;
      background: transparent;
      position: absolute;
      bottom: 0;
      left: 0;
    }
    .progress > span {
      display: block;
      height: 100%;
      width: 0%;
      background: var(--grad);
      transform-origin: left center;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 0;
    }
    .brand .title{
      display:flex;
      flex-direction:column;
      line-height:1.1;
      min-width: 0;
    }
    .brand .title strong{
      font-size: 14px;
      letter-spacing: .2px;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .brand .title span{
      font-size: 12px;
      color: var(--muted2);
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    /* Theme toggle */
    .mark{
      width: 34px; height: 34px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,.05) 55%),
        var(--grad);
      box-shadow: 0 12px 28px rgba(56,189,248,.12);
      border: 1px solid rgba(255,255,255,.14);
      position: relative;
      overflow:hidden;
      flex: 0 0 auto;
      isolation: isolate;
    }
    .mark:after{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 45%),
        linear-gradient(90deg, transparent 20%, rgba(255,255,255,.10), transparent 80%);
      transform: rotate(18deg);
      opacity:.55;
      z-index: 0;
      pointer-events:none;
    }
    .mark.theme-toggle{
      appearance:none;
      -webkit-appearance:none;
      padding: 0;
      margin: 0;
      cursor: pointer;
      display: grid;
      place-items: center;
      color: var(--text);
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .mark.theme-toggle svg{
      width: 18px;
      height: 18px;
      position: relative;
      z-index: 1;
      display: block;
      pointer-events: none;
      opacity: .92;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.18));
    }
    .mark.theme-toggle:hover{ transform: translateY(-1px); }
    .mark.theme-toggle:active{ transform: translateY(0) scale(.99); }
    .mark.theme-toggle:focus-visible{ outline:none; box-shadow: var(--ring), 0 12px 28px rgba(56,189,248,.12); }

    /* Show ‚òÄÔ∏è in light mode, üåô in dark mode */
    html[data-theme="dark"] .mark.theme-toggle .sun{ display:none; }
    html[data-theme="light"] .mark.theme-toggle .moon{ display:none; }
    @media (prefers-color-scheme: dark){
      html:not([data-theme]) .mark.theme-toggle .sun{ display:none; }
    }
    @media (prefers-color-scheme: light){
      html:not([data-theme]) .mark.theme-toggle .moon{ display:none; }
    }

    .nav-actions{ display:flex; align-items:center; gap: 10px; }

    /* Hamburger */
    .icon-btn{
      width: 42px; height: 42px;
      display:grid;
      place-items:center;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
      backdrop-filter: blur(10px);
      color: var(--text);
    }
    .icon-btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.20); background: rgba(255,255,255,.085); box-shadow: 0 14px 30px rgba(0,0,0,.25); }
    .icon-btn:active{ transform: translateY(0) scale(.99); }
    .icon-btn:focus-visible{ outline:none; box-shadow: var(--ring); }

    .icon{ width: 18px; height: 14px; position: relative; }
    .icon span{
      position:absolute; left:0; right:0; height:2px; border-radius: 2px;
      background: rgba(234,240,255,.90);
    }
    .icon span:nth-child(1){ top:0; }
    .icon span:nth-child(2){ top:6px; opacity:.85; }
    .icon span:nth-child(3){ top:12px; opacity:.70; }
    html[data-theme="light"] .icon span{ background: rgba(11,15,26,.86); }
    @media (prefers-color-scheme: light){
      html:not([data-theme]) .icon span{ background: rgba(11,15,26,.86); }
    }

    /* Menu */
    .menu{
      position: fixed;
      top: 70px;
      right: 18px;
      width: min(360px, calc(100vw - 36px));
      border-radius: 18px;
      background: var(--menuBg);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--menuShadow);
      backdrop-filter: blur(16px);
      padding: 10px;
      display:none;
      z-index: 60;
    }
    .menu.open{ display:block; animation: pop .16s ease-out; }
    @keyframes pop{ from{ transform: translateY(-6px); opacity: 0;} to{ transform: translateY(0); opacity: 1;} }

    .menu a{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      text-decoration:none;
      color: var(--text);
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid transparent;
      transition: background .2s ease, border-color .2s ease;
      font-weight: 600;
      font-size: 13px;
    }
    .menu a:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.10);
    }
    .menu a span{
      color: var(--muted2);
      font-weight: 600;
      font-size: 12px;
    }

    /* Light-mode control surfaces */
    html[data-theme="light"] .mark{ border: 1px solid rgba(0,0,0,.10); }
    html[data-theme="light"] .icon-btn{
      border: 1px solid rgba(0,0,0,.12);
      background: rgba(255,255,255,.70);
    }
    html[data-theme="light"] .icon-btn:hover{
      border-color: rgba(0,0,0,.18);
      background: rgba(255,255,255,.85);
      box-shadow: 0 14px 30px rgba(0,0,0,.12);
    }
    html[data-theme="light"] .menu{ border: 1px solid rgba(0,0,0,.12); }
    html[data-theme="light"] .menu a:hover{
      background: rgba(0,0,0,.04);
      border-color: rgba(0,0,0,.08);
    }

    /* No-JS fallback for light-mode surfaces */
    @media (prefers-color-scheme: light){
      html:not([data-theme]) .mark{ border: 1px solid rgba(0,0,0,.10); }
      html:not([data-theme]) .icon-btn{
        border: 1px solid rgba(0,0,0,.12);
        background: rgba(255,255,255,.70);
      }
      html:not([data-theme]) .icon-btn:hover{
        border-color: rgba(0,0,0,.18);
        background: rgba(255,255,255,.85);
        box-shadow: 0 14px 30px rgba(0,0,0,.12);
      }
      html:not([data-theme]) .menu{ border: 1px solid rgba(0,0,0,.12); }
      html:not([data-theme]) .menu a:hover{
        background: rgba(0,0,0,.04);
        border-color: rgba(0,0,0,.08);
      }
    }

    /* Hero */
    .hero{
      margin-top: 18px;
      padding: 24px;
      border-radius: var(--r24);
      background:
        radial-gradient(900px 340px at 20% 0%, rgba(56,189,248,.16), transparent 50%),
        radial-gradient(900px 340px at 80% 0%, rgba(167,139,250,.14), transparent 55%),
        var(--panel);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow2);
    }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(56,189,248,.22);
      background: rgba(56,189,248,.08);
      color: color-mix(in srgb, var(--text) 92%, transparent);
      font-weight: 800;
      font-size: 12px;
      letter-spacing: .2px;
    }
    .kicker i{
      width: 8px; height: 8px;
      border-radius: 99px;
      background: var(--grad);
      display:inline-block;
      box-shadow: 0 0 0 4px rgba(56,189,248,.10);
    }

    h1{
      margin: 14px 0 10px;
      font-size: clamp(26px, 4.2vw, 42px);
      letter-spacing: -0.02em;
      line-height: 1.08;
    }
    .grad-text{
      background: var(--grad);
      -webkit-background-clip:text;
      background-clip:text;
      -webkit-text-fill-color:transparent;
    }

    .lead{
      margin: 0;
      color: var(--muted);
      font-size: 15px;
      line-height: 1.8;
      max-width: 88ch;
    }

    .meta-row{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 16px;
    }
    .pill{
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      padding: 9px 12px;
      font-size: 12px;
      color: var(--muted);
      display:inline-flex;
      align-items:center;
      gap: 8px;
    }
    .pill b{ color: color-mix(in srgb, var(--text) 92%, transparent); font-weight: 800; }

    /* Layout: post + toc */
    .content-grid{
      margin-top: 16px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      align-items: start;
    }
    @media (min-width: 980px){
      .content-grid{
        grid-template-columns: 1fr 320px;
      }
      .toc{
        position: sticky;
        top: 110px;
      }
      .toc details{ open: true; }
      .toc summary{ display:none; }
      .toc details[open] > summary{ display:none; }
    }

    /* Post body */
    .post{
      border-radius: var(--r24);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      box-shadow: var(--shadow);
      padding: 22px;
      min-width: 0;
    }

    .prose{ max-width: 90ch; }
    .prose p{
      margin: 0 0 14px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.9;
    }
    .prose h2{
      margin: 18px 0 10px;
      font-size: 16px;
      letter-spacing: -.01em;
      color: color-mix(in srgb, var(--text) 94%, transparent);
      scroll-margin-top: 120px;
    }
    .prose h3{
      margin: 16px 0 8px;
      font-size: 14px;
      letter-spacing: -.01em;
      color: color-mix(in srgb, var(--text) 94%, transparent);
      scroll-margin-top: 120px;
    }
    .prose strong{ color: color-mix(in srgb, var(--text) 94%, transparent); font-weight: 800; }

    .prose a{
      color: color-mix(in srgb, var(--a1) 70%, var(--text));
      text-decoration: none;
      border-bottom: 1px solid rgba(56,189,248,.35);
    }
    .prose a:hover{ border-bottom-color: rgba(56,189,248,.65); }

    .divider{
      height: 1px;
      background: color-mix(in srgb, var(--stroke) 90%, transparent);
      margin: 18px 0;
    }

    /* Figure card */
    figure{
      margin: 16px 0;
      border-radius: var(--r20);
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.14);
      overflow:hidden;
      box-shadow: 0 0 0 1px rgba(255,255,255,.06), 0 18px 60px rgba(0,0,0,.45);
    }
    html[data-theme="light"] figure{ background: rgba(255,255,255,.75); }
    @media (prefers-color-scheme: light){
      html:not([data-theme]) figure{ background: rgba(255,255,255,.75); }
    }

    figure img{
      width: 100%;
      display:block;
      aspect-ratio: 16 / 9;
      object-fit: cover;
      cursor: zoom-in;
      filter: saturate(1.03) contrast(1.02);
    }
    figcaption{
      padding: 12px 14px 14px;
      color: var(--muted2);
      font-size: 12px;
      line-height: 1.6;
    }

    /* Callout */
    .callout{
      margin-top: 16px;
      border-radius: var(--r20);
      border: 1px solid rgba(56,189,248,.18);
      background:
        radial-gradient(600px 260px at 0% 0%, rgba(56,189,248,.14), transparent 55%),
        rgba(255,255,255,.045);
      box-shadow: 0 0 0 1px rgba(56,189,248,.08) inset;
      padding: 16px;
    }
    .callout h3{
      margin: 0 0 6px;
      font-size: 14px;
      letter-spacing: -.01em;
    }
    .callout p{
      margin: 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.75;
    }

    /* Table */
    .table-wrap{
      margin: 14px 0 4px;
      border-radius: var(--r20);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    table{
      width:100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    thead th{
      text-align:left;
      padding: 12px 12px;
      color: color-mix(in srgb, var(--text) 92%, transparent);
      background: linear-gradient(135deg, rgba(56,189,248,.10), rgba(167,139,250,.08));
      border-bottom: 1px solid var(--stroke);
      letter-spacing: .2px;
    }
    tbody td{
      padding: 12px 12px;
      color: var(--muted);
      border-bottom: 1px solid color-mix(in srgb, var(--stroke) 85%, transparent);
      vertical-align: top;
      line-height: 1.6;
    }
    tbody tr:last-child td{ border-bottom: none; }
    tbody tr:hover td{
      background: rgba(255,255,255,.03);
      color: color-mix(in srgb, var(--text) 82%, var(--muted));
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: color-mix(in srgb, var(--text) 88%, transparent);
      font-weight: 800;
      font-size: 12px;
      white-space: nowrap;
    }
    html[data-theme="light"] .chip{ border: 1px solid rgba(0,0,0,.10); background: rgba(255,255,255,.70); }
    @media (prefers-color-scheme: light){
      html:not([data-theme]) .chip{ border: 1px solid rgba(0,0,0,.10); background: rgba(255,255,255,.70); }
    }

    /* TOC */
    .toc{
      border-radius: var(--r24);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .toc details{ border-radius: 16px; }
    .toc summary{
      cursor: pointer;
      user-select:none;
      list-style: none;
      font-weight: 800;
      font-size: 13px;
      color: color-mix(in srgb, var(--text) 92%, transparent);
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .toc summary::-webkit-details-marker{ display:none; }
    .toc-nav{
      margin-top: 10px;
      display: grid;
      gap: 6px;
    }
    .toc-nav a{
      text-decoration: none;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.4;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid transparent;
      transition: background .2s ease, border-color .2s ease;
    }
    .toc-nav a:hover{
      background: rgba(255,255,255,.05);
      border-color: rgba(255,255,255,.10);
    }
    .toc-nav a.active{
      color: color-mix(in srgb, var(--text) 92%, transparent);
      background: linear-gradient(135deg, rgba(56,189,248,.10), rgba(167,139,250,.08));
      border-color: rgba(56,189,248,.25);
      box-shadow: 0 0 0 1px rgba(56,189,248,.10) inset;
    }
    .toc-nav a[data-level="3"]{ padding-left: 18px; }

    /* Lightbox */
    .lightbox{
      display:none;
      position:fixed;
      inset:0;
      z-index: 2000;
      background-color: rgba(7,10,18,.92);
      backdrop-filter: blur(10px);
      align-items:center;
      justify-content:center;
      flex-direction: column;
      padding: 20px;
    }
    html[data-theme="light"] .lightbox{ background-color: rgba(255,255,255,.92); }
    @media (prefers-color-scheme: light){
      html:not([data-theme]) .lightbox{ background-color: rgba(255,255,255,.92); }
    }

    .lightbox.open{ display:flex; }
    .lightbox-content{
      max-width: min(1100px, 96vw);
      max-height: 78vh;
      object-fit: contain;
      border-radius: 16px;
      box-shadow: 0 40px 120px rgba(0,0,0,.7);
      border: 1px solid var(--stroke);
      animation: zoom .18s ease-out;
      background: rgba(0,0,0,.08);
    }
    .caption{
      max-width: min(900px, 92vw);
      margin-top: 14px;
      color: color-mix(in srgb, var(--text) 80%, transparent);
      font-size: 13px;
      line-height: 1.55;
      text-align: center;
    }
    .lightbox-actions{
      display:flex;
      gap: 10px;
      position:absolute;
      left: 16px;
      top: 14px;
    }
    .lb-btn{
      width: 46px;
      height: 46px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .15s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
      color: color-mix(in srgb, var(--text) 92%, transparent);
      font-size: 18px;
      font-weight: 900;
    }
    .lb-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(56,189,248,.35);
      background: rgba(56,189,248,.10);
      box-shadow: 0 16px 40px rgba(0,0,0,.25);
    }
    .lb-btn:focus-visible{ outline:none; box-shadow: var(--ring); }

    @keyframes zoom{ from{ transform: scale(.98); opacity: 0;} to{ transform: scale(1); opacity: 1;} }

    /* Footer */
    .footer{
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: var(--r20);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      color: var(--muted2);
      font-size: 12px;
      line-height: 1.5;
      text-align:center;
      box-shadow: var(--shadow);
    }

    :focus-visible{ outline: none; box-shadow: var(--ring); border-radius: 12px; }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior: auto; }
      *{ transition: none !important; animation: none !important; }
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <div class="bg-grid" aria-hidden="true"></div>
  <div class="top-vignette" aria-hidden="true"></div>

  <!-- Top bar -->
  <div class="topbar" role="banner">
    <div class="progress" aria-hidden="true"><span id="progressBar"></span></div>

    <div class="nav" role="navigation" aria-label="Site">
      <div class="brand">
        <!-- Theme toggle -->
        <button class="mark theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme" title="Toggle theme">
          <!-- Sun (light) -->
          <svg class="sun" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" stroke="currentColor" stroke-width="2"/>
            <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <!-- Moon (dark) -->
          <svg class="moon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 13.2A8.4 8.4 0 0 1 10.8 3a7.6 7.6 0 1 0 10.2 10.2Z"
                  stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
        </button>

        <div class="title">
          <strong>Blog</strong>
          <span>DeepMind Models ¬∑ Molecular ‚Üí Clinical</span>
        </div>
      </div>

      <div class="nav-actions">
        <button class="icon-btn" id="menuBtn" aria-haspopup="true" aria-expanded="false" aria-controls="menuPanel" title="Menu">
          <div class="icon" aria-hidden="true">
            <span></span><span></span><span></span>
          </div>
        </button>
      </div>
    </div>

    <!-- Menu panel -->
    <nav class="menu panel" id="menuPanel" aria-label="Menu">
      <!-- TODO: Customize links -->
      <a href="https://1u477n.github.io/">Home <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/about.html">About Me <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/techandstrategyconsulting.html">Technology &amp; Strategy Consulting <span>‚Üó</span></a>
      <a href="https://aiincubator.github.io/">Big Data &amp; AI Incubator <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/publishedworks.html">Published Works <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/workrecognitions.html">Work Recognitions <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/blogs/mainpage.html">Blogs <span>‚Üó</span></a>
      <a href="https://1u477n.github.io/images/cv.pdf">Curriculum Vitae <span>‚Üó</span></a>
      <a href="https://www.linkedin.com/in/1u477n/" target="_blank" rel="noopener noreferrer">LinkedIn <span>‚Üó</span></a>
    </nav>
  </div>

  <!-- Lightbox -->
  <div id="imageLightbox" class="lightbox" aria-modal="true" role="dialog" aria-label="Image viewer" aria-hidden="true">
    <div class="lightbox-actions" aria-hidden="false">
      <button class="lb-btn" id="lightboxPrev" aria-label="Previous image">‚Äπ</button>
      <button class="lb-btn" id="lightboxClose" aria-label="Close">√ó</button>
      <button class="lb-btn" id="lightboxNext" aria-label="Next image">‚Ä∫</button>
    </div>
    <img class="lightbox-content" id="img01" alt="" />
    <div id="caption" class="caption"></div>
  </div>

  <main class="container" id="main">
    <!-- HERO -->
    <section class="hero panel" aria-label="Blog post header">
      <div class="kicker"><i></i> DeepMind ¬∑ AI Models ¬∑ Medicine</div>

      <h1>
        <span class="grad-text">From Molecules to Medicine</span>
        <br/>DeepMind‚Äôs End-to-End AI Pipeline üß¨ü©∫
      </h1>

      <p class="lead">
        In the AI era, the transition from traditional ‚Äútrial-and-error‚Äù drug discovery to a predictive, simulation-based science
        is no longer a futuristic dream‚Äîit is the current reality. Google DeepMind‚Äôs ecosystem of models sketches an end-to-end
        pipeline that spans from atomic-scale interactions to the complexities of clinical patient care.
      </p>

      <div class="meta-row" aria-label="Post metadata">
        <div class="pill"><b>Author</b> Luat (Luke) Nguyen</div>
        <div class="pill"><b>Topic</b> AI-native Drug Discovery</div>
        <div class="pill"><b>Updated</b> <time id="today" datetime=""></time></div>
        <div class="pill"><b>Reading</b> <span id="readTime">‚Äî</span></div>
      </div>
    </section>

    <div class="content-grid">
      <!-- POST -->
      <article class="post panel" id="post" aria-label="Blog post content">
        <div class="prose" id="prose">
          <p>
            Here is how each model in the biological and clinical hierarchy justifies its place in the future of medicine‚Äîconnecting
            the molecular ‚Äúwhy‚Äù of biology to the clinical ‚Äúwhat‚Äù of patient outcomes.
          </p>

          <figure class="panel">
            <img class="zoomable"
                 loading="eager" decoding="async"
                 src="https://1u477n.github.io/images/deepmind_models.jpg"
                 alt="Diagram: Google DeepMind AI models across the biological-to-clinical hierarchy‚ÄîAlphaFold 3, AlphaGenome, AlphaMissense, C2S-Scale, and Med-Gemini‚Äîmapped along a molecular ‚Üí cellular ‚Üí clinical pathway (click to zoom)." />
            <figcaption>
              <strong>Figure:</strong> DeepMind‚Äôs model stack spans molecular structure, genome regulation, variant interpretation,
              cellular response simulation, and multimodal clinical reasoning. (Click to zoom.)
            </figcaption>
          </figure>

          <div class="callout panel" aria-label="Key takeaway callout">
            <h3><span class="grad-text">Core idea</span></h3>
            <p>
              The modern pipeline is shifting from brute-force experimentation to a tighter loop: prediction ‚Üí targeted validation ‚Üí iteration.
              These models act like a ladder, where each rung supports the next‚Äîmolecular truth feeding cellular simulations, which then inform clinical decisions.
            </p>
          </div>

          <div class="divider"></div>

          <h2>1) AlphaFold 3: The Blueprint of Interaction</h2>
          <p>
            While its predecessors mastered protein folding, AlphaFold 3 is the master of molecular sociology. It doesn‚Äôt just predict
            what a protein looks like; it predicts how that protein interacts with DNA, RNA, ions, and‚Äîmost crucially for medicine‚Äîligands
            (drug molecules).
          </p>
          <p>
            <strong>Benefit to Medicine:</strong> By visualizing the 3D structure of how a potential drug binds to its target, scientists can
            design ‚Äúkey-and-lock‚Äù therapies with surgical precision, drastically reducing the time spent in the hit-to-lead phase of drug discovery.
          </p>

          <h2>2) AlphaGenome: Deciphering the Regulatory Grammar</h2>
          <p>
            Launched in early 2026, AlphaGenome tackles the 98% of our DNA once dismissively called ‚Äújunk DNA.‚Äù This model analyzes stretches
            of up to one million base pairs to understand how non-coding regions regulate gene activity.
          </p>
          <p>
            <strong>Benefit to Medicine:</strong> Many diseases are caused not by a broken protein, but by a ‚Äúvolume knob‚Äù (regulatory element)
            that is turned too high or too low. AlphaGenome helps identify these regulatory ‚Äútypos,‚Äù opening the door for gene-silencing therapies and
            treatments for rare genetic disorders that were previously misunderstood.
          </p>

          <h2>3) AlphaMissense: Filtering the Genetic Noise</h2>
          <p>
            The human genome contains millions of missense variants‚Äîsingle-letter changes in DNA. AlphaMissense acts as a high-powered filter,
            classifying these mutations as either ‚Äúlikely benign‚Äù or ‚Äúlikely pathogenic.‚Äù
          </p>
          <p>
            <strong>Benefit to Medicine:</strong> In the invention of medicines, identifying the exact mutation driving a disease is half the battle.
            AlphaMissense lets researchers prioritize the most dangerous mutations for study‚Äîso new drugs target true drivers rather than harmless background noise.
          </p>

          <h2>4) C2S-Scale: The Virtual Cellular Laboratory</h2>
          <p>
            Cell2Sentence-Scale (C2S-Scale) is a massive 27B-parameter model that treats the behavior of individual cells like a language. It ‚Äúreads‚Äù
            single-cell data to predict how a cell will react to a specific perturbation‚Äîsuch as a new drug or a viral infection.
          </p>
          <p>
            <strong>Benefit to Medicine:</strong> It acts as a digital twin for human cells. Instead of testing thousands of chemicals on living tissue,
            scientists can run virtual screens. C2S-Scale has already predicted drug combinations that turn ‚Äúcold‚Äù tumors into ‚Äúhot‚Äù ones‚Äîdesigning new cancer
            immunotherapies in silico.
          </p>

          <h2>5) Med-Gemini: The Clinical Compass</h2>
          <p>
            The journey of a medicine doesn‚Äôt end in the lab; it ends with a patient. Med-Gemini is a multimodal powerhouse capable of reasoning across
            medical images (X-rays, MRIs), electronic health records, and genomic data simultaneously.
          </p>
          <p>
            <strong>Benefit to Medicine:</strong> It bridges biological discovery and clinical application‚Äîhelping identify which patient populations will respond
            best to a new drug (precision medicine) and spotting subtle temporal changes in health that a human might miss during clinical trials.
          </p>

          <div class="divider"></div>

          <h2>Summary Table: The Molecular-to-Clinical Pipeline</h2>

          <div class="table-wrap panel" role="region" aria-label="Summary table: DeepMind AI pipeline" tabindex="0">
            <table>
              <thead>
                <tr>
                  <th style="width: 28%;">Model</th>
                  <th style="width: 22%;">Focus Level</th>
                  <th>Scientific Value-Add</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="chip">AlphaFold 3</span></td>
                  <td>Molecular</td>
                  <td>Precise drug-target binding predictions.</td>
                </tr>
                <tr>
                  <td><span class="chip">AlphaGenome</span></td>
                  <td>Genomic</td>
                  <td>Mapping the ‚Äúinstruction manual‚Äù of gene control.</td>
                </tr>
                <tr>
                  <td><span class="chip">AlphaMissense</span></td>
                  <td>Proteomic</td>
                  <td>Identifying pathogenic ‚Äútypos‚Äù in our code.</td>
                </tr>
                <tr>
                  <td><span class="chip">C2S-Scale</span></td>
                  <td>Cellular</td>
                  <td>Simulating drug responses in ‚Äúvirtual cells.‚Äù</td>
                </tr>
                <tr>
                  <td><span class="chip">Med-Gemini</span></td>
                  <td>Clinical</td>
                  <td>Translating lab breakthroughs into patient care.</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="callout panel" aria-label="Practical takeaway callout">
            <h3><span class="grad-text">Practical takeaway</span></h3>
            <p>
              The acceleration isn‚Äôt just ‚Äúmore AI.‚Äù It‚Äôs tighter coupling across layers‚Äîmolecular constraints shaping cellular predictions,
              and clinical feedback refining the next generation of biological hypotheses.
            </p>
          </div>

          <div class="divider"></div>

          <h2>References</h2>
          <p>
            <a href="https://academic.oup.com/pcm/article/8/3/pbaf015/8180385"><strong>AlphaFold 3:</strong></a> An unprecedented opportunity for drug development (2025/2026)
          </p>
          <p>
            <a href="https://today.rtl.lu/news/world/google-unveils-ai-tool-probing-mysteries-of-human-genome-1977546198"><strong>AlphaGenome:</strong></a> Google unveils AI tool probing mysteries of human genome (Jan 2026)
          </p>
          <p>
            <a href="https://www.science.org/doi/10.1126/science.adg7492"><strong>AlphaMissense:</strong></a> Accurate proteome-wide missense variant effect prediction with AlphaMissense (Science)
          </p>
          <p>
            <a href="https://research.google/blog/teaching-machines-the-language-of-biology-scaling-large-language-models-for-next-generation-single-cell-analysis/"><strong>C2S-Scale:</strong></a> Teaching machines the language of biology (Google Research)
          </p>
          <p>
            <a href="https://arxiv.org/abs/2404.18416"><strong>Med-Gemini:</strong></a> Capabilities of Gemini Models in Medicine (arXiv)
          </p>

          <h2>Tags</h2>
          <p>
            #DeepMind #AlphaFold3 #AlphaGenome #AlphaMissense #C2SScale #MedGemini #DrugDiscovery #PrecisionMedicine #AI
          </p>
        </div>
      </article>

      <!-- TOC -->
      <aside class="toc panel" aria-label="On this page">
        <details open>
          <summary>On this page</summary>
          <nav class="toc-nav" id="tocNav" aria-label="Table of contents"></nav>
        </details>
      </aside>
    </div>

    <footer class="footer panel">
      ¬© <span id="year"></span> ¬∑ Blog ¬∑ Built for a modern AI-driven era
    </footer>
  </main>

  <script>
    // ------------------------------------------------------------
    // Shared theme toggle (site-wide): localStorage key "theme"
    // ------------------------------------------------------------
    (function(){
      const root = document.documentElement;
      const toggle = document.getElementById("themeToggle");
      if (!toggle) return;

      const storageKey = "theme";
      const media = window.matchMedia("(prefers-color-scheme: light)");

      const safeGet = () => {
        try { return localStorage.getItem(storageKey); } catch { return null; }
      };
      const safeSet = (v) => {
        try { localStorage.setItem(storageKey, v); } catch {}
      };

      const systemTheme = () => (media.matches ? "light" : "dark");

      function setToggleText(theme){
        const next = theme === "dark" ? "light" : "dark";
        toggle.setAttribute("aria-label", `Switch to ${next} mode`);
        toggle.setAttribute("title", `Switch to ${next} mode`);
      }

      function applyTheme(theme, persist){
        root.setAttribute("data-theme", theme);
        if (persist) safeSet(theme);
        setToggleText(theme);
      }

      const saved = safeGet();
      if (saved === "light" || saved === "dark") {
        applyTheme(saved, false);
      } else {
        applyTheme(systemTheme(), false);

        // Track system changes only when user hasn't manually chosen a theme
        const handler = () => applyTheme(systemTheme(), false);
        if (typeof media.addEventListener === "function") media.addEventListener("change", handler);
        else if (typeof media.addListener === "function") media.addListener(handler);
      }

      toggle.addEventListener("click", () => {
        const current = root.getAttribute("data-theme") || systemTheme();
        const next = current === "dark" ? "light" : "dark";
        applyTheme(next, true);
      });
    })();

    // ------------------------------------------------------------
    // Footer year + "today" (ISO datetime + localized label)
    // ------------------------------------------------------------
    (function(){
      document.getElementById("year").textContent = new Date().getFullYear();

      const d = new Date();
      const timeEl = document.getElementById("today");
      const fmt = new Intl.DateTimeFormat(undefined, { year: "numeric", month: "short", day: "2-digit" });
      timeEl.textContent = fmt.format(d);

      const iso = new Date(d.getTime() - (d.getTimezoneOffset() * 60000)).toISOString().slice(0,10);
      timeEl.setAttribute("datetime", iso);
    })();

    // ------------------------------------------------------------
    // Reading time + progress bar
    // ------------------------------------------------------------
    (function(){
      const prose = document.getElementById("prose");
      const readTime = document.getElementById("readTime");
      const progressBar = document.getElementById("progressBar");

      const text = (prose?.innerText || "").trim();
      const words = text ? text.split(/\s+/).length : 0;
      const wpm = 220;
      const mins = Math.max(1, Math.round(words / wpm));
      readTime.textContent = `${mins} min`;

      let ticking = false;
      function updateProgress(){
        ticking = false;
        const doc = document.documentElement;
        const scrollTop = doc.scrollTop || document.body.scrollTop;
        const scrollHeight = (doc.scrollHeight || document.body.scrollHeight) - doc.clientHeight;
        const p = scrollHeight > 0 ? (scrollTop / scrollHeight) : 0;
        progressBar.style.width = `${Math.min(100, Math.max(0, p * 100))}%`;
      }
      window.addEventListener("scroll", () => {
        if (!ticking){
          ticking = true;
          requestAnimationFrame(updateProgress);
        }
      }, { passive: true });
      updateProgress();
    })();

    // ------------------------------------------------------------
    // Menu: toggle + outside click + ESC + focus trap
    // ------------------------------------------------------------
    (function(){
      const menuBtn = document.getElementById("menuBtn");
      const menuPanel = document.getElementById("menuPanel");
      if (!menuBtn || !menuPanel) return;

      const focusables = (root) => Array.from(
        root.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])')
      ).filter(el => el.offsetParent !== null);

      let lastFocus = null;

      function trapFocus(container, e){
        if (e.key !== "Tab") return;
        const items = focusables(container);
        if (!items.length) return;

        const first = items[0];
        const last = items[items.length - 1];
        const active = document.activeElement;

        if (e.shiftKey && active === first){ e.preventDefault(); last.focus(); }
        else if (!e.shiftKey && active === last){ e.preventDefault(); first.focus(); }
      }

      function openMenu(){
        lastFocus = document.activeElement;
        menuPanel.classList.add("open");
        menuBtn.setAttribute("aria-expanded", "true");

        const items = focusables(menuPanel);
        (items[0] || menuPanel).focus?.();
      }

      function closeMenu(){
        menuPanel.classList.remove("open");
        menuBtn.setAttribute("aria-expanded", "false");
        if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
      }

      function toggleMenu(){
        const isOpen = menuPanel.classList.contains("open");
        if (isOpen) closeMenu(); else openMenu();
      }

      menuBtn.addEventListener("click", (e) => { e.stopPropagation(); toggleMenu(); });

      document.addEventListener("click", () => {
        if (menuPanel.classList.contains("open")) closeMenu();
      });

      menuPanel.addEventListener("click", (e) => e.stopPropagation());

      document.addEventListener("keydown", (e) => {
        if (!menuPanel.classList.contains("open")) return;
        if (e.key === "Escape") closeMenu();
        trapFocus(menuPanel, e);
      });

      // Close menu when a link is chosen
      menuPanel.querySelectorAll("a").forEach(a => {
        a.addEventListener("click", () => closeMenu());
      });
    })();

    // ------------------------------------------------------------
    // TOC generator + active section highlight
    // ------------------------------------------------------------
    (function(){
      const prose = document.getElementById("prose");
      const tocNav = document.getElementById("tocNav");
      if (!prose || !tocNav) return;

      const headings = Array.from(prose.querySelectorAll("h2, h3"));
      if (!headings.length) return;

      const slugify = (s) => s
        .toLowerCase()
        .trim()
        .replace(/&amp;|&/g, "and")
        .replace(/[^\w\s-]/g, "")
        .replace(/\s+/g, "-")
        .replace(/-+/g, "-");

      // Ensure unique IDs
      const used = new Map();
      headings.forEach(h => {
        const base = h.id ? h.id : slugify(h.textContent || "section");
        const n = (used.get(base) || 0) + 1;
        used.set(base, n);
        const id = n === 1 ? base : `${base}-${n}`;
        h.id = id;
      });

      // Build TOC
      tocNav.innerHTML = headings.map(h => {
        const lvl = h.tagName === "H3" ? "3" : "2";
        const label = (h.textContent || "").trim();
        return `<a href="#${h.id}" data-id="${h.id}" data-level="${lvl}">${label}</a>`;
      }).join("");

      const links = Array.from(tocNav.querySelectorAll("a"));
      const setActive = (id) => {
        links.forEach(a => a.classList.toggle("active", a.dataset.id === id));
      };

      // Observe section visibility
      const obs = new IntersectionObserver((entries) => {
        const visible = entries
          .filter(e => e.isIntersecting)
          .sort((a,b) => (b.intersectionRatio - a.intersectionRatio));
        if (visible[0]) setActive(visible[0].target.id);
      }, { root: null, threshold: [0.2, 0.35, 0.5], rootMargin: "-15% 0px -70% 0px" });

      headings.forEach(h => obs.observe(h));

      // Smooth scroll w/ focus for keyboard users
      links.forEach(a => {
        a.addEventListener("click", (e) => {
          const id = a.dataset.id;
          const target = document.getElementById(id);
          if (!target) return;
          e.preventDefault();
          target.scrollIntoView({ behavior: "smooth", block: "start" });
          target.setAttribute("tabindex", "-1");
          target.focus({ preventScroll: true });
          setTimeout(() => target.removeAttribute("tabindex"), 300);
        });
      });
    })();

    // ------------------------------------------------------------
    // Lightbox: multi-image, keyboard nav, focus trap
    // ------------------------------------------------------------
    (function(){
      const modal = document.getElementById("imageLightbox");
      const modalImg = document.getElementById("img01");
      const captionText = document.getElementById("caption");
      const closeBtn = document.getElementById("lightboxClose");
      const prevBtn = document.getElementById("lightboxPrev");
      const nextBtn = document.getElementById("lightboxNext");

      const images = Array.from(document.querySelectorAll("img.zoomable"));
      if (!images.length) return;

      let lastFocusEl = null;
      let index = 0;

      const focusables = (root) => Array.from(
        root.querySelectorAll('button:not([disabled]), [tabindex]:not([tabindex="-1"])')
      ).filter(el => el.offsetParent !== null);

      function trapFocus(container, e){
        if (e.key !== "Tab") return;
        const items = focusables(container);
        if (!items.length) return;

        const first = items[0];
        const last = items[items.length - 1];
        const active = document.activeElement;

        if (e.shiftKey && active === first){ e.preventDefault(); last.focus(); }
        else if (!e.shiftKey && active === last){ e.preventDefault(); first.focus(); }
      }

      function render(){
        const img = images[index];
        modalImg.src = img.currentSrc || img.src;
        modalImg.alt = img.alt || "Zoomed image";
        captionText.textContent = img.alt || "";
      }

      function openLightbox(i){
        index = i;
        lastFocusEl = document.activeElement;
        modal.classList.add("open");
        modal.setAttribute("aria-hidden", "false");
        render();
        document.body.style.overflow = "hidden";
        closeBtn.focus();
      }

      function closeLightbox(){
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
        modalImg.src = "";
        captionText.textContent = "";
        document.body.style.overflow = "";
        if (lastFocusEl && typeof lastFocusEl.focus === "function") lastFocusEl.focus();
      }

      function prev(){
        index = (index - 1 + images.length) % images.length;
        render();
      }

      function next(){
        index = (index + 1) % images.length;
        render();
      }

      images.forEach((img, i) => {
        img.addEventListener("click", () => openLightbox(i));
        img.setAttribute("tabindex", "0");
        img.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openLightbox(i);
          }
        });
      });

      closeBtn.addEventListener("click", closeLightbox);
      prevBtn.addEventListener("click", prev);
      nextBtn.addEventListener("click", next);

      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeLightbox();
      });

      document.addEventListener("keydown", (e) => {
        if (!modal.classList.contains("open")) return;

        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowLeft") prev();
        if (e.key === "ArrowRight") next();
        trapFocus(modal, e);
      });
    })();
  </script>
</body>
</html>
